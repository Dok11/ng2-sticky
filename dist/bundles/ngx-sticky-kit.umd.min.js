!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core")):"function"==typeof define&&define.amd?define(["exports","@angular/core"],e):e(t.ngxStickyKit={},t.ng.core)}(this,function(t,e){"use strict";var i=(s.prototype.ngOnInit=function(){this.elem=this.element.nativeElement},s.prototype.ngAfterViewInit=function(){this.container=this.elem.parentNode,this.defineOriginalDimensions(),this.sticker()},s.prototype.onChange=function(){this.sticker()},s.prototype.defineOriginalDimensions=function(){this.originalCss={zIndex:this.getCssValue(this.elem,"zIndex"),position:this.getCssValue(this.elem,"position"),top:this.getCssValue(this.elem,"top"),right:this.getCssValue(this.elem,"right"),left:this.getCssValue(this.elem,"left"),bottom:this.getCssValue(this.elem,"bottom"),width:this.getCssValue(this.elem,"width")},"auto"===this.width&&(this.width=this.originalCss.width)},s.prototype.defineDimensions=function(){var t=this.getBoundingClientRectValue(this.container,"top");this.windowHeight=window.innerHeight,this.elemHeight=this.getCssNumber(this.elem,"height"),this.containerHeight=this.getCssNumber(this.container,"height"),this.containerStart=t+this.scrollbarYPos()-this.offsetTop+this.start,this.parentMode?this.scrollFinish=this.containerStart-this.start-this.offsetBottom+(this.containerHeight-this.elemHeight):this.scrollFinish=document.body.offsetHeight},s.prototype.resetElement=function(){this.elem.classList.remove(this.stickClass),Object.assign(this.elem.style,this.originalCss),this.reset.next(this.elem)},s.prototype.stuckElement=function(){this.isStuck=!0,this.elem.classList.remove(this.endStickClass),this.elem.classList.add(this.stickClass),Object.assign(this.elem.style,{zIndex:this.zIndex,position:"fixed",top:this.offsetTop+"px",right:"auto",bottom:"auto",left:this.getBoundingClientRectValue(this.elem.parentElement,"left")+"px",width:this.width}),this.activated.next(this.elem)},s.prototype.unstuckElement=function(){this.isStuck=!1,this.elem.classList.add(this.endStickClass),this.container.style.position="relative",Object.assign(this.elem.style,{position:"absolute",top:"auto",left:"auto",right:"right"===this.getCssValue(this.elem,"float")||"right"===this.orientation?0:"auto",bottom:this.offsetBottom+"px",width:this.width}),this.deactivated.next(this.elem)},s.prototype.matchMediaQuery=function(){return!this.mediaQuery||(window.matchMedia("("+this.mediaQuery+")").matches||window.matchMedia(this.mediaQuery).matches)},s.prototype.sticker=function(){var t,e;this.matchMediaQuery()?((t=this.getCssNumber(this.container,"height"))!==this.containerHeight&&this.defineDimensions(),this.elemHeight>=t||(e=this.scrollbarYPos(),this.isStuck&&(e<this.containerStart||e>this.scrollFinish)||e>this.scrollFinish?(this.resetElement(),e>this.scrollFinish&&this.unstuckElement(),this.isStuck=!1):e>this.containerStart&&e<this.scrollFinish&&this.stuckElement())):this.resetElement()},s.prototype.scrollbarYPos=function(){return window.pageYOffset||document.documentElement.scrollTop},s.prototype.getBoundingClientRectValue=function(t,e){var i,s=0;return t&&t.getBoundingClientRect&&(s=void 0!==(i=t.getBoundingClientRect())[e]?i[e]:0),s},s.prototype.getCssValue=function(t,e){var i="";return void 0!==window.getComputedStyle?i=window.getComputedStyle(t,"").getPropertyValue(e):void 0!==t.currentStyle&&(i=t.currentStyle[e]),i},s.prototype.getCssNumber=function(t,e){return void 0!==t&&parseInt(this.getCssValue(t,e),10)||0},s.decorators=[{type:e.Component,args:[{selector:"sticky,[sticky]",template:"<ng-content></ng-content>"}]}],s.ctorParameters=function(){return[{type:e.ElementRef}]},s.propDecorators={sticky:[{type:e.Input,args:["sticky"]}],zIndex:[{type:e.Input,args:["sticky-zIndex"]}],width:[{type:e.Input,args:["sticky-width"]}],offsetTop:[{type:e.Input,args:["sticky-offset-top"]}],offsetBottom:[{type:e.Input,args:["sticky-offset-bottom"]}],start:[{type:e.Input,args:["sticky-start"]}],stickClass:[{type:e.Input,args:["sticky-class"]}],endStickClass:[{type:e.Input,args:["sticky-end-class"]}],mediaQuery:[{type:e.Input,args:["sticky-media-query"]}],parentMode:[{type:e.Input,args:["sticky-parent"]}],orientation:[{type:e.Input,args:["sticky-orientation"]}],activated:[{type:e.Output}],deactivated:[{type:e.Output}],reset:[{type:e.Output}],onChange:[{type:e.HostListener,args:["window:scroll",["$event"]]},{type:e.HostListener,args:["window:resize",["$event"]]},{type:e.HostListener,args:["window:orientationchange",["$event"]]}]},s);function s(t){this.element=t,this.zIndex=10,this.width="auto",this.offsetTop=0,this.offsetBottom=0,this.start=0,this.stickClass="sticky",this.endStickClass="sticky-end",this.mediaQuery="",this.parentMode=!0,this.orientation="none",this.activated=new e.EventEmitter,this.deactivated=new e.EventEmitter,this.reset=new e.EventEmitter,this.isStuck=!1}var n=(o.decorators=[{type:e.NgModule,args:[{declarations:[i],exports:[i]}]}],o);function o(){}t.StickyComponent=i,t.StickyModule=n,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-sticky-kit.umd.min.js.map
